<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- SEO Meta -->
  <title>Image to Text Converter (OCR) | Extract Text from Any Image - multiimagex.online</title>
  <meta name="description" content="Free Image to Text OCR Tool on multiimagex.online. Convert photos, screenshots and scanned documents to editable text. Supports Hindi, English and 100+ languages. Offline, secure, no login.">
  <meta name="keywords" content="image to text, image to text converter, ocr online, free ocr tool, extract text from image, hindi ocr, multiimagex.online">
  <meta name="author" content="multiimagex.online">
  <link rel="icon" href="data:,"><!-- small perf trick -->

  <!-- Open Graph (for better sharing) -->
  <meta property="og:title" content="Image to Text Converter (OCR) - multiimagex.online">
  <meta property="og:description" content="Convert images to editable text instantly. Supports Hindi, English & 100+ languages. No upload, processes offline in your browser.">
  <meta property="og:type" content="website">

  <!-- Minimal styling (light, clear, attractive) -->
  <style>
    :root{--bg:#ffffff;--card:#f8f9fb;--text:#0b1a2b;--muted:#556;--accent:#2563eb;--radius:14px}
    [data-theme="dark"]{--bg:#0b1220;--card:#0f1724;--text:#e6eef8;--muted:#9fb2d9;--accent:#60a5fa}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:var(--text);background:linear-gradient(180deg,var(--bg),#f3f6fb);}
    .wrap{max-width:1100px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    h1{font-size:20px;margin:0}
    p.lead{margin:6px 0 0;color:var(--muted);font-size:13px}

    .card{background:var(--card);border-radius:var(--radius);padding:16px;margin-top:18px;box-shadow:0 6px 20px rgba(20,30,48,0.06)}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:16px}

    /* left (uploader + controls) */
    .uploader{border:2px dashed rgba(8,14,30,0.06);padding:16px;border-radius:10px;text-align:center;min-height:220px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}
    .uploader.dragover{border-color:var(--accent);background:linear-gradient(180deg,rgba(38,99,235,0.03),transparent)}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;border:none;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(37,99,235,0.14)}
    .small{padding:6px 10px;font-size:13px}

    .preview{display:flex;flex-direction:column;gap:10px}
    .imgbox{border-radius:10px;overflow:hidden;border:1px solid rgba(15,23,42,0.04);background:#fff}
    canvas,img{max-width:100%;display:block}

    .controls{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .range{display:flex;align-items:center;gap:8px}

    /* right (result) */
    .result{display:flex;flex-direction:column;height:100%}
    .result .toolbar{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .textarea{width:100%;height:420px;margin-top:10px;padding:12px;border-radius:10px;border:1px solid rgba(10,20,40,0.05);resize:vertical;background:transparent;color:var(--text);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace}

    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

    /* responsive */
    @media (max-width:980px){.grid{grid-template-columns:1fr;}
      .result .toolbar{flex-direction:column;align-items:stretch;gap:8px}
      .textarea{height:260px}
    }
  </style>
</head>
<body data-theme="light">
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">MX</div>
        <div>
          <h1>Image to Text Converter — multiimagex.online</h1>
          <p class="lead">Extract editable text from images instantly. Supports Hindi, English & 100+ languages — offline in your browser.</p>
        </div>
      </div>

      <div style="display:flex;gap:8px;align-items:center">
        <button id="themeToggle" class="btn ghost small">Dark</button>
        <a class="btn small" href="#usage">How to Use</a>
      </div>
    </header>

    <div class="card">
      <div class="grid">
        <!-- LEFT: Uploader + Preview + Preprocessing -->
        <div>
          <div id="dropZone" class="uploader" aria-label="Drop images here">
            <input id="fileInput" type="file" accept="image/*" multiple style="display:none">
            <div style="max-width:560px">
              <strong>Drag & Drop images here</strong>
              <div style="margin-top:8px;color:var(--muted);font-size:13px">JPG, PNG, WEBP, BMP. Max 5 images. Screenshots, photos, scanned docs supported.</div>
              <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
                <button id="browseBtn" class="btn small">Browse</button>
                <button id="clearBtn" class="btn ghost small">Clear</button>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:600">Image Preview</div>
              <div style="font-size:13px;color:var(--muted)">Rotate • Crop • Enhance</div>
            </div>

            <div class="preview" style="margin-top:10px">
              <div class="imgbox"><canvas id="canvas" width="640" height="360"></canvas></div>

              <div class="controls">
                <button class="btn small" id="rotateLeft">⟲ Rotate Left</button>
                <button class="btn small" id="rotateRight">⟲ Rotate Right</button>
                <button class="btn small" id="grayscale">Grayscale</button>
                <button class="btn small" id="bw">B/W</button>
                <button class="btn ghost small" id="autoEnhance">Auto Enhance</button>

                <div style="flex:1"></div>

                <label class="small" style="display:flex;align-items:center;gap:8px">Language
                  <select id="langSelect" style="margin-left:8px;padding:6px;border-radius:8px">
                    <option value="auto">Auto (eng+hin)</option>
                    <option value="eng">English</option>
                    <option value="hin">Hindi</option>
                    <option value="eng+hin">English + Hindi</option>
                    <option value="spa">Spanish</option>
                    <option value="deu">German</option>
                    <option value="fra">French</option>
                    <option value="ita">Italian</option>
                  </select>
                </label>
              </div>

              <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
                <div style="flex:1">
                  <label class="range">Brightness <input id="brightness" type="range" min="0.5" max="1.8" step="0.05" value="1"></label>
                </div>
                <div style="width:160px;display:flex;align-items:center;gap:8px">
                  <label class="range">Contrast <input id="contrast" type="range" min="0.5" max="1.8" step="0.05" value="1"></label>
                </div>
              </div>

              <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
                <button id="extractBtn" class="btn">Extract Text</button>
                <button id="cancelBtn" class="btn ghost" disabled>Cancel</button>
                <div style="flex:1"></div>
                <div style="font-size:13px;color:var(--muted)">Progress: <span id="progressText">0%</span></div>
              </div>

              <progress id="progress" value="0" max="1" style="width:100%;height:8px;margin-top:8px;border-radius:6px"></progress>

            </div>
          </div>
        </div>

        <!-- RIGHT: Results -->
        <div class="result">
          <div class="card" style="flex:1;display:flex;flex-direction:column">
            <div class="toolbar">
              <div style="display:flex;gap:8px;align-items:center">
                <strong>Extracted Text</strong>
                <div style="font-size:13px;color:var(--muted)">Editable output — copy or download</div>
              </div>

              <div style="display:flex;gap:8px">
                <button id="copyBtn" class="btn small">Copy</button>
                <button id="downloadTxt" class="btn small ghost">Download .txt</button>
                <button id="downloadJson" class="btn small ghost">Download .json</button>
              </div>
            </div>

            <textarea id="output" class="textarea" placeholder="Extracted text will appear here..." spellcheck="false"></textarea>

            <div style="display:flex;align-items:center;justify-content:space-between;margin-top:10px">
              <div style="color:var(--muted);font-size:13px">Detected Language: <span id="detectedLang">—</span></div>
              <div style="display:flex;gap:8px">
                <button id="copyImgText" class="btn ghost small">Copy Image+Text</button>
                <button id="clearAll" class="btn ghost small">Reset All</button>
              </div>
            </div>

          </div>

          <div style="margin-top:12px;font-size:13px;color:var(--muted);padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(15,23,42,0.02),transparent)">
            <strong>Tips:</strong> For best results use high-contrast images, crop out unnecessary borders, and pick the proper language when known. Auto will try English + Hindi by default.
          </div>
        </div>
      </div>

      <footer id="usage" style="margin-top:14px">Made with ❤️ by multiimagex.online — Fast, accurate & private. Works offline in your browser.</footer>
    </div>
  </div>

  <!-- Tesseract.js from CDN (will fetch language data when needed) -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>

  <script>
    // Basic DOM refs
    const dropZone = document.getElementById('dropZone');
    const fileInput = document.getElementById('fileInput');
    const browseBtn = document.getElementById('browseBtn');
    const clearBtn = document.getElementById('clearBtn');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const rotateLeft = document.getElementById('rotateLeft');
    const rotateRight = document.getElementById('rotateRight');
    const grayscaleBtn = document.getElementById('grayscale');
    const bwBtn = document.getElementById('bw');
    const autoEnhanceBtn = document.getElementById('autoEnhance');
    const brightness = document.getElementById('brightness');
    const contrast = document.getElementById('contrast');
    const extractBtn = document.getElementById('extractBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const progress = document.getElementById('progress');
    const progressText = document.getElementById('progressText');
    const output = document.getElementById('output');
    const copyBtn = document.getElementById('copyBtn');
    const downloadTxt = document.getElementById('downloadTxt');
    const downloadJson = document.getElementById('downloadJson');
    const langSelect = document.getElementById('langSelect');
    const detectedLang = document.getElementById('detectedLang');
    const cancelToken = {cancelled:false};
    const themeToggle = document.getElementById('themeToggle');
    const copyImgText = document.getElementById('copyImgText');
    const clearAll = document.getElementById('clearAll');

    // State
    let currentImage = new Image();
    let currentRotation = 0; // degrees
    let currentScale = 1;
    let imgBlob = null;
    let worker = null;

    // Limits
    const MAX_IMAGES = 5;
    const MAX_FILE_SIZE_MB = 10; // warn if >10MB

    // Theme toggle
    themeToggle.addEventListener('click', ()=>{
      const body = document.body;
      if(body.getAttribute('data-theme')==='dark'){body.setAttribute('data-theme','light');themeToggle.textContent='Dark'}
      else{body.setAttribute('data-theme','dark');themeToggle.textContent='Light'}
    });

    // Drag & Drop
    ['dragenter','dragover'].forEach(ev=>{
      dropZone.addEventListener(ev,e=>{e.preventDefault();e.stopPropagation();dropZone.classList.add('dragover')});
    });
    ['dragleave','drop'].forEach(ev=>{
      dropZone.addEventListener(ev,e=>{e.preventDefault();e.stopPropagation();dropZone.classList.remove('dragover')});
    });

    dropZone.addEventListener('drop', async (e)=>{
      const files = Array.from(e.dataTransfer.files || []);
      await handleFiles(files);
    });

    browseBtn.addEventListener('click', ()=>fileInput.click());
    fileInput.addEventListener('change', async (e)=>{await handleFiles(Array.from(e.target.files));});

    clearBtn.addEventListener('click', resetCanvas);
    clearAll.addEventListener('click', ()=>{resetCanvas();output.value='';detectedLang.textContent='—';});

    async function handleFiles(files){
      if(!files || files.length===0) return;
      // limit count
      if(files.length>MAX_IMAGES) files = files.slice(0,MAX_IMAGES);
      const file = files[0];
      if(file.size > MAX_FILE_SIZE_MB*1024*1024){
        if(!confirm('File is large (>10MB). Continue?')) return;
      }
      if(!file.type.startsWith('image/')){alert('Please provide an image file.');return}
      imgBlob = file;
      const url = URL.createObjectURL(file);
      currentImage = new Image();
      currentRotation = 0; currentScale = 1;
      currentImage.onload = ()=>{
        fitCanvasToImage(currentImage);
        drawImage();
      };
      currentImage.src = url;
    }

    function fitCanvasToImage(img){
      const maxW = 900; // cap
      const ratio = Math.min(maxW / img.width, 1);
      canvas.width = Math.round(img.width * ratio);
      canvas.height = Math.round(img.height * ratio);
    }

    function drawImage(){
      // clear
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.save();
      // translate to center for rotation
      ctx.translate(canvas.width/2, canvas.height/2);
      ctx.rotate(currentRotation * Math.PI/180);
      ctx.scale(currentScale, currentScale);
      ctx.drawImage(currentImage, -canvas.width/2, -canvas.height/2, canvas.width, canvas.height);
      ctx.restore();
    }

    // Rotate
    rotateLeft.addEventListener('click', ()=>{ currentRotation -= 90; drawImage(); });
    rotateRight.addEventListener('click', ()=>{ currentRotation += 90; drawImage(); });

    // Filters
    grayscaleBtn.addEventListener('click', ()=>{ applyFilter('grayscale'); });
    bwBtn.addEventListener('click', ()=>{ applyFilter('bw'); });
    autoEnhanceBtn.addEventListener('click', ()=>{ autoEnhance(); });

    brightness.addEventListener('input', ()=>{ applyBrightnessContrast(); });
    contrast.addEventListener('input', ()=>{ applyBrightnessContrast(); });

    function applyBrightnessContrast(){
      if(!currentImage || !currentImage.width) return;
      // draw base then apply
      ctx.drawImage(currentImage, 0, 0, canvas.width, canvas.height);
      const imageData = ctx.getImageData(0,0,canvas.width,canvas.height);
      const data = imageData.data;
      const b = parseFloat(brightness.value);
      const c = parseFloat(contrast.value);
      // apply
      for(let i=0;i<data.length;i+=4){
        for(let j=0;j<3;j++){
          let val = data[i+j];
          // brightness
          val = val * b;
          // contrast (simple)
          val = ((val - 128) * c) + 128;
          data[i+j] = Math.max(0, Math.min(255, val));
        }
      }
      ctx.putImageData(imageData,0,0);
    }

    function applyFilter(type){
      if(!currentImage || !currentImage.width) return;
      ctx.drawImage(currentImage,0,0,canvas.width,canvas.height);
      const imageData = ctx.getImageData(0,0,canvas.width,canvas.height);
      const data = imageData.data;
      if(type==='grayscale'){
        for(let i=0;i<data.length;i+=4){
          const v = 0.3*data[i] + 0.59*data[i+1] + 0.11*data[i+2];
          data[i]=data[i+1]=data[i+2]=v;
        }
      } else if(type==='bw'){
        for(let i=0;i<data.length;i+=4){
          const v = 0.3*data[i] + 0.59*data[i+1] + 0.11*data[i+2];
          const bw = v>128?255:0;
          data[i]=data[i+1]=data[i+2]=bw;
        }
      }
      ctx.putImageData(imageData,0,0);
    }

    function autoEnhance(){
      // simple auto contrast + sharpen-ish
      applyFilter('grayscale');
      // increase contrast
      contrast.value = 1.2; brightness.value=1.05; applyBrightnessContrast();
    }

    // Reset canvas
    function resetCanvas(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      currentImage = new Image(); imgBlob=null; currentRotation=0; currentScale=1; detectedLang.textContent='—';
    }

    // Tesseract worker management
    async function initWorker(lang){
      if(worker) await worker.terminate();
      worker = Tesseract.createWorker({
        logger: m => {
          if(m.status){
            // progress m.progress
            const p = m.progress || 0;
            progress.value = p; progressText.textContent = Math.round(p*100) + '%';
          }
        }
      });
      await worker.load();
      // If lang is composite like eng+hin, load each
      const langs = lang.split('+');
      for(const l of langs){
        try{ await worker.loadLanguage(l); }catch(e){console.warn('lang load failed',l,e);} 
      }
      try{ await worker.initialize(lang); }catch(e){console.warn('init failed, trying eng',e); await worker.initialize('eng'); }
    }

    // Recognize
    async function recognizeImage(){
      if(!imgBlob && !currentImage.src){ alert('Please upload an image first.'); return; }
      extractBtn.disabled = true; cancelBtn.disabled = false; cancelToken.cancelled=false;

      // prepare image dataURL
      const dataURL = canvas.toDataURL('image/png');
      const selectedLang = langSelect.value;
      const langForTess = selectedLang==='auto'? 'eng+hin' : selectedLang;
      progress.value = 0; progressText.textContent='0%';

      try{
        await initWorker(langForTess);
        // optional: detect script/language simple approach
        // run recognition
        const {data} = await worker.recognize(dataURL);
        if(cancelToken.cancelled){ output.value=''; return; }
        output.value = data.text || '';
        // detect best language if worker provides
        if(data && data.lines && data.lines.length>0){
          detectedLang.textContent = (data.script || langForTess) || 'unknown';
        } else detectedLang.textContent = langForTess;
      }catch(err){
        console.error(err); alert('OCR error: ' + (err.message||err));
      }finally{
        extractBtn.disabled = false; cancelBtn.disabled = true;
        try{ await worker.terminate(); worker=null; }catch(e){}
        progress.value = 1; progressText.textContent='Done';
      }
    }

    extractBtn.addEventListener('click', recognizeImage);
    cancelBtn.addEventListener('click', ()=>{ cancelToken.cancelled=true; if(worker){worker.terminate();worker=null;} cancelBtn.disabled=true; extractBtn.disabled=false; progressText.textContent='Cancelled'; });

    // Copy & Download
    copyBtn.addEventListener('click', async ()=>{
      try{ await navigator.clipboard.writeText(output.value); alert('Copied to clipboard'); }catch(e){ alert('Copy failed'); }
    });

    copyImgText.addEventListener('click', async ()=>{
      const blob = await (await fetch(canvas.toDataURL('image/png'))).blob();
      const parts = [new ClipboardItem({'image/png': blob, 'text/plain': new Blob([output.value], {type:'text/plain'})})];
      try{ await navigator.clipboard.write(parts); alert('Image + Text copied (if supported)'); }catch(e){ alert('Copy image+text not supported'); }
    });

    downloadTxt.addEventListener('click', ()=>{
      const blob = new Blob([output.value], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='ocr-text.txt'; a.click(); URL.revokeObjectURL(url);
    });

    downloadJson.addEventListener('click', ()=>{
      const payload = {text: output.value, detectedLanguage: detectedLang.textContent, source: 'multiimagex.online'};
      const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='ocr-output.json'; a.click(); URL.revokeObjectURL(url);
    });

    // Reset all when user presses clear
    document.getElementById('clearBtn').addEventListener('click', ()=>{ output.value=''; detectedLang.textContent='—'; resetCanvas(); });

    // Accessibility: keyboard drop
    dropZone.addEventListener('keydown', (e)=>{ if(e.key==='Enter') fileInput.click(); });

    // Small UX: draw placeholder
    (function drawPlaceholder(){ ctx.fillStyle='#f3f6fb'; ctx.fillRect(0,0,canvas.width,canvas.height); ctx.fillStyle='#889'; ctx.font='16px sans-serif'; ctx.fillText('Upload an image to preview',20,40); })();

    // Warn before leaving while OCR running
    window.addEventListener('beforeunload', (e)=>{
      if(!extractBtn.disabled){return}
      e.preventDefault(); e.returnValue='OCR in progress. Are you sure you want to leave?';
    });

    // Basic progressive enhancement: if no Tesseract available
    if(typeof Tesseract==='undefined'){
      alert('Tesseract.js failed to load. Please check your connection.');
    }
  </script>
</body>
</html>
