<!DOCTYPE html>
<html lang="en">
<head>
   <link rel="icon" href="a-vector-illustration-of-a-modern-logo-f_KXCFgQtvSKCe9H_ht-OhCA_c_SgDqUTTD-BGq0rJC4qqw.jpeg" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Image Resizer</title>
  <style>
    :root {
      --blue: #0ea5ff; /* bright blue */
      --blue-600: #0284c7;
      --blue-700: #0369a1;
      --bg: #ffffff;
      --text: #0b1220;
      --muted: #5b7083;
      --card: #ffffff;
      --card-border: #e6f4ff;
      --shadow: 0 10px 30px rgba(14, 165, 255, 0.15);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: linear-gradient(180deg, #f5fbff 0%, #ffffff 60%);
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
      display: grid;
      gap: 20px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      width: 42px; height: 42px;
      border-radius: 12px;
      background: conic-gradient(from 210deg, var(--blue), #a0e2ff);
      box-shadow: var(--shadow);
    }

    h1 { font-size: clamp(20px, 4vw, 32px); margin: 0; letter-spacing: 0.2px; }

    .card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .grid { display: grid; grid-template-columns: 1fr; gap: 18px; }
    @media (min-width: 900px) { .grid { grid-template-columns: 1.1fr 0.9fr; } }

    .uploader {
      border: 2px dashed var(--blue);
      border-radius: var(--radius);
      padding: 22px;
      text-align: center;
      background: #f0faff;
      transition: all 0.2s ease;
      cursor: pointer;
      outline: none;
    }
    .uploader:focus-visible { box-shadow: 0 0 0 3px rgba(14,165,255,0.4); }
    .uploader.dragover { background: #e6f6ff; transform: translateY(-1px); }

    .uploader .hint { color: var(--muted); font-size: 14px; }

    .btn {
      appearance: none;
      border: none;
      background: var(--blue);
      color: white;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 8px 20px rgba(14,165,255,0.35);
      transition: transform 0.06s ease, filter 0.2s ease;
    }
    .btn:hover { filter: brightness(1.05); }
    .btn:active { transform: translateY(1px); }
    .btn.secondary { background: #e8f6ff; color: var(--blue-700); box-shadow: none; border: 1px solid #c7eaff; }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }

    .controls { display: grid; grid-template-columns: 1fr; gap: 14px; }

    .control {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 12px;
      background: #f8fdff;
      border: 1px solid #e7f4ff;
      border-radius: 14px;
      padding: 12px 14px;
    }
    .control label { font-weight: 600; }
    .control small { color: var(--muted); display: block; }

    .number {
      width: 120px; padding: 10px; border:1px solid #cfeaff; border-radius: 12px; font-size: 15px;
    }

    .toggle {
      display: inline-flex; align-items: center; gap: 8px; font-weight: 600;
    }

    .previews { display: grid; grid-template-columns: 1fr; gap: 14px; }
    @media (min-width: 700px) { .previews { grid-template-columns: 1fr 1fr; } }

    .preview { background: #ffffff; border: 1px solid #e7f4ff; border-radius: 16px; padding: 10px; display: grid; gap: 8px; }
    .preview header { display: flex; justify-content: space-between; align-items: center; }
    .preview h3 { margin: 0; font-size: 16px; }
    .meta { color: var(--muted); font-size: 13px; }

    .canvas-wrap { display: grid; place-items: center; background: #f7fbff; border: 1px dashed #d8eeff; border-radius: 12px; min-height: 220px; overflow: hidden; }

    canvas, img { max-width: 100%; height: auto; display: block; }

    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }

    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

    footer { text-align: center; color: var(--muted); font-size: 13px; padding: 12px; }

    .lock { display:inline-flex; align-items:center; justify-content:center; width: 40px; height: 40px; border-radius: 12px; border:1px solid #cfeaff; background:#eaf7ff; font-weight: 700; color: var(--blue-700); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>Image Resizer</h1>
      </div>
      <button class="btn secondary" id="resetBtn" type="button" disabled>Reset</button>
    </header>

    <div class="grid">
      <!-- LEFT: Upload + Controls -->
      <section class="card" aria-labelledby="upload-title">
        <h2 id="upload-title" style="margin-top:0">Upload & Size</h2>

        <label for="file" class="uploader" id="dropzone" tabindex="0">
          <input id="file" type="file" accept="image/*" class="sr-only" />
          <strong>Click to upload</strong> or drag & drop an image here
          <div class="hint">PNG â€¢ JPG â€¢ WebP â€¢ GIF (first frame)</div>
        </label>

        <div class="controls" style="margin-top:16px">
          <div class="control">
            <div>
              <label>Target Dimensions</label>
              <small>Enter custom width Ã— height (px)</small>
            </div>
            <div class="row" id="sizeRow">
              <input id="width" type="number" min="1" step="1" placeholder="Width" class="number" />
              <button id="lockBtn" class="lock" type="button" title="Lock aspect ratio">ðŸ”’</button>
              <input id="height" type="number" min="1" step="1" placeholder="Height" class="number" />
              <button id="useOriginal" class="btn secondary" type="button" title="Use original size">Use original</button>
            </div>
          </div>

          <div class="control">
            <div>
              <label for="method">Resize Method</label>
              <small>"Fit within" preserves aspect; "Exact" stretches if needed</small>
            </div>
            <div class="row">
              <select id="method" style="padding: 10px 12px; border:1px solid #cfeaff; border-radius: 12px; min-width: 160px;">
                <option value="fit" selected>Fit within</option>
                <option value="exact">Exact (may stretch)</option>
              </select>
              <select id="format" style="padding: 10px 12px; border:1px solid #cfeaff; border-radius: 12px; min-width: 160px;">
                <option value="auto" selected>Auto (keep format)</option>
                <option value="image/jpeg">JPEG</option>
                <option value="image/png">PNG</option>
                <option value="image/webp">WebP</option>
              </select>
              <button id="resizeBtn" class="btn" type="button" disabled>Resize</button>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: Previews -->
      <section class="card" aria-labelledby="preview-title">
        <h2 id="preview-title" style="margin-top:0">Preview</h2>
        <div class="previews">
          <div class="preview">
            <header>
              <h3>Original</h3>
              <div class="meta" id="origMeta">â€”</div>
            </header>
            <div class="canvas-wrap"><img id="origImg" alt="Original preview" /></div>
          </div>
          <div class="preview">
            <header>
              <h3>Resized</h3>
              <div class="meta" id="resMeta">â€”</div>
            </header>
            <div class="canvas-wrap"><canvas id="canvas" aria-label="Resized preview"></canvas></div>
            <div class="row" style="justify-content: space-between;">
              <a id="downloadLink" class="btn" href="#" download="resized.jpg" style="visibility:hidden">Download</a>
              <button id="copyBtn" class="btn secondary" type="button" style="visibility:hidden">Copy to Clipboard</button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <footer>All processing happens in your browser. Your images never leave your device.</footer>
  </div>

  <script>
    const fileInput = document.getElementById('file');
    const dropzone = document.getElementById('dropzone');
    const widthInput = document.getElementById('width');
    const heightInput = document.getElementById('height');
    const lockBtn = document.getElementById('lockBtn');
    const useOriginal = document.getElementById('useOriginal');
    const method = document.getElementById('method');
    const formatSelect = document.getElementById('format');
    const resizeBtn = document.getElementById('resizeBtn');
    const resetBtn = document.getElementById('resetBtn');

    const origImg = document.getElementById('origImg');
    const origMeta = document.getElementById('origMeta');
    const canvas = document.getElementById('canvas');
    const resMeta = document.getElementById('resMeta');
    const downloadLink = document.getElementById('downloadLink');
    const copyBtn = document.getElementById('copyBtn');

    let originalFile = null;
    let originalURL = null;
    let aspectLocked = true;
    let aspectRatio = 1;

    const formatBytes = (bytes) => {
      if (!Number.isFinite(bytes)) return 'â€”';
      const units = ['B','KB','MB','GB'];
      let i = 0; let n = bytes;
      while (n >= 1024 && i < units.length - 1) { n /= 1024; i++; }
      return `${n.toFixed(n < 10 && i > 0 ? 2 : 0)} ${units[i]}`;
    };

    const setBusy = (busy) => {
      resizeBtn.disabled = busy || !originalFile;
      resetBtn.disabled = !originalFile || busy;
    };

    const updateLockIcon = () => { lockBtn.textContent = aspectLocked ? 'ðŸ”’' : 'ðŸ”“'; };

    // Drag & drop handlers
    ['dragenter','dragover'].forEach(evt => dropzone.addEventListener(evt, (e) => {
      e.preventDefault(); e.stopPropagation(); dropzone.classList.add('dragover');
    }));
    ;['dragleave','drop'].forEach(evt => dropzone.addEventListener(evt, (e) => {
      e.preventDefault(); e.stopPropagation(); dropzone.classList.remove('dragover');
    }));
    dropzone.addEventListener('drop', (e) => {
      const file = e.dataTransfer.files?.[0];
      if (file) handleFile(file);
    });

    dropzone.addEventListener('click', () => fileInput.click());
    dropzone.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); fileInput.click(); }});
    fileInput.addEventListener('change', () => { const f = fileInput.files?.[0]; if (f) handleFile(f); });

    // Lock ratio toggle
    lockBtn.addEventListener('click', () => { aspectLocked = !aspectLocked; updateLockIcon(); syncAspectFromInputs(); });

    // When width changes, auto-calc height if locked
    widthInput.addEventListener('input', () => {
      if (aspectLocked && aspectRatio) {
        const w = parseInt(widthInput.value, 10);
        if (w > 0) { heightInput.value = Math.max(1, Math.round(w / aspectRatio)); }
      }
    });
    heightInput.addEventListener('input', () => {
      if (aspectLocked && aspectRatio) {
        const h = parseInt(heightInput.value, 10);
        if (h > 0) { widthInput.value = Math.max(1, Math.round(h * aspectRatio)); }
      }
    });

    useOriginal.addEventListener('click', () => {
      if (!origImg.naturalWidth) return;
      widthInput.value = origImg.naturalWidth;
      heightInput.value = origImg.naturalHeight;
    });

    resetBtn.addEventListener('click', () => {
      originalFile = null;
      if (originalURL) URL.revokeObjectURL(originalURL);
      originalURL = null;
      fileInput.value = '';
      origImg.src = '';
      origMeta.textContent = 'â€”';
      canvas.width = canvas.height = 0;
      resMeta.textContent = 'â€”';
      downloadLink.style.visibility = 'hidden';
      copyBtn.style.visibility = 'hidden';
      widthInput.value = heightInput.value = '';
      aspectLocked = true; updateLockIcon();
      setBusy(false);
    });

    async function handleFile(file) {
      if (!file || !file.type.startsWith('image/')) { alert('Please choose a valid image file.'); return; }
      originalFile = file;
      if (originalURL) URL.revokeObjectURL(originalURL);
      originalURL = URL.createObjectURL(file);
      origImg.src = originalURL;

      await new Promise(r => { origImg.onload = () => r(); });
      const { naturalWidth: w, naturalHeight: h } = origImg;
      origMeta.textContent = `${w}Ã—${h}px â€¢ ${file.type || 'unknown'} â€¢ ${formatBytes(file.size)}`;
      aspectRatio = w / h; updateLockIcon();
      widthInput.placeholder = w; heightInput.placeholder = h;

      // Pre-fill width keeping smaller dimension <= 1600 for convenience
      const scale = Math.min(1600 / Math.max(w, h), 1);
      widthInput.value = Math.round(w * scale);
      heightInput.value = Math.round(h * scale);

      setBusy(false); resizeBtn.disabled = false;
      downloadLink.style.visibility = 'hidden'; copyBtn.style.visibility = 'hidden';
    }

    function syncAspectFromInputs() {
      if (!aspectLocked || !origImg.naturalWidth) return;
      const w = parseInt(widthInput.value, 10);
      const h = parseInt(heightInput.value, 10);
      if (w > 0 && !h) heightInput.value = Math.round(w / aspectRatio);
      if (h > 0 && !w) widthInput.value = Math.round(h * aspectRatio);
    }

    function computeTargetSize(srcW, srcH) {
      const reqW = parseInt(widthInput.value || widthInput.placeholder, 10);
      const reqH = parseInt(heightInput.value || heightInput.placeholder, 10);
      if (method.value === 'exact') return { w: Math.max(1, reqW), h: Math.max(1, reqH) };
      // FIT: preserve aspect and fit within box
      const ratio = Math.min(reqW / srcW, reqH / srcH);
      return { w: Math.max(1, Math.round(srcW * ratio)), h: Math.max(1, Math.round(srcH * ratio)) };
    }

    function outputType(inputType) {
      const sel = formatSelect.value;
      if (sel !== 'auto') return sel;
      return inputType || 'image/png';
    }

    async function resize() {
      if (!originalFile) return;
      const imgBitmap = await createImageBitmap(originalFile, { imageOrientation: 'from-image' }).catch(() => null);
      const img = document.createElement('img');
      img.src = originalURL;
      await new Promise(r => img.decode ? img.decode().then(r).catch(() => r()) : img.onload = () => r());
      const srcW = imgBitmap ? imgBitmap.width : img.naturalWidth;
      const srcH = imgBitmap ? imgBitmap.height : img.naturalHeight;
      const { w, h } = computeTargetSize(srcW, srcH);

      const ctx = canvas.getContext('2d', { alpha: true });
      canvas.width = w; canvas.height = h;
      ctx.imageSmoothingEnabled = true;
      ctx.imageSmoothingQuality = 'high';
      ctx.clearRect(0, 0, w, h);
      if (imgBitmap) { ctx.drawImage(imgBitmap, 0, 0, w, h); } else { ctx.drawImage(img, 0, 0, w, h); }

      const type = outputType(originalFile.type);
      const quality = type === 'image/jpeg' || type === 'image/webp' ? 0.92 : undefined; // default high quality
      const blob = await new Promise((resolve) => canvas.toBlob(resolve, type, quality));
      if (!blob) { alert('Resize failed.'); return; }

      const url = URL.createObjectURL(blob);
      downloadLink.href = url;
      const ext = type.includes('png') ? 'png' : type.includes('webp') ? 'webp' : type.includes('jpeg') ? 'jpg' : 'img';
      const baseName = (originalFile.name?.replace(/\.[^.]+$/, '') || 'resized');
      downloadLink.download = `${baseName}_${w}x${h}.${ext}`;
      downloadLink.style.visibility = 'visible';

      // Clipboard support
      if (navigator.clipboard && window.ClipboardItem) {
        copyBtn.onclick = async () => {
          try {
            await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);
            copyBtn.textContent = 'Copied!';
            setTimeout(() => (copyBtn.textContent = 'Copy to Clipboard'), 1200);
          } catch (e) { alert('Clipboard copy failed: ' + e.message); }
        };
        copyBtn.style.visibility = 'visible';
      }

      resMeta.textContent = `${w}Ã—${h}px â€¢ ${type} â€¢ ${formatBytes(blob.size)}`;
    }

    resizeBtn.addEventListener('click', resize);
  </script>
</body>
   <script async="async" data-cfasync="false" src="//porchadvertise.com/d34df16bf090b8a15724f203a04aa921/invoke.js"></script>
<div id="container-d34df16bf090b8a15724f203a04aa921"></div>
</html>
